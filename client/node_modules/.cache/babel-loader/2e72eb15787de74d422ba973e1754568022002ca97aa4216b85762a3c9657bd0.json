{"ast":null,"code":"import * as type from \"../actions/ActionTypes\";\nimport { useSelector, useDispatch } from 'react-redux';\nconst taskReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case type.GET_ALL_TASK:\n      async function initialTask() {\n        let list = [];\n        await fetch(\"http://localhost:4000/getAllTasks\", {\n          method: \"GET\",\n          headers: {\n            \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\")\n          }\n        }).then(response => {\n          return response.json();\n        }).then(data => {\n          // console.log(data);\n          for (let i = 0; i < data.length; i++) {\n            let tmpObj = {\n              id: data[i].id,\n              title: data[i].title,\n              body: data[i].body,\n              state: data[i].state,\n              repo: data[i].repository.name,\n              owner: data[i].repository.owner.login,\n              created_at: data[i].created_at,\n              issue_number: data[i].number\n            };\n            // console.log(list);\n            list.push(tmpObj);\n          }\n        });\n        state = list;\n        console.log(list);\n      }\n      return state;\n    default:\n      return state;\n  }\n};\nexport default taskReducer;","map":{"version":3,"names":["type","useSelector","useDispatch","taskReducer","state","arguments","length","undefined","action","GET_ALL_TASK","initialTask","list","fetch","method","headers","localStorage","getItem","then","response","json","data","i","tmpObj","id","title","body","repo","repository","name","owner","login","created_at","issue_number","number","push","console","log"],"sources":["C:/Users/user/Desktop/Life/sideProject/Dcard2023-frontend-hw/client/src/reducer/tasks.js"],"sourcesContent":["import * as type from \"../actions/ActionTypes\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst taskReducer = (state = [], action) => {\r\n    switch(action.type) {\r\n        case type.GET_ALL_TASK:\r\n\r\n            async function initialTask(){   \r\n                let list = [];\r\n                await fetch(\"http://localhost:4000/getAllTasks\", {\r\n                method: \"GET\", \r\n                    headers: {\r\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"accessToken\")\r\n                    }\r\n                }).then((response) => {\r\n                    return response.json();\r\n                }).then((data) => {\r\n                    // console.log(data);\r\n                    for(let i = 0; i < data.length; i++) {\r\n                        let tmpObj = {\r\n                            id: data[i].id,\r\n                            title: data[i].title,\r\n                            body: data[i].body,\r\n                            state: data[i].state,\r\n                            repo: data[i].repository.name,\r\n                            owner: data[i].repository.owner.login,\r\n                            created_at: data[i].created_at,\r\n                            issue_number: data[i].number\r\n                        };\r\n                        // console.log(list);\r\n                        list.push(tmpObj);\r\n                    }           \r\n                }) \r\n                state = list;\r\n                console.log(list);\r\n            }\r\n            \r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default taskReducer;"],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,wBAAwB;AAC9C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAEtD,MAAMC,WAAW,GAAG,SAAAA,CAAA,EAAwB;EAAA,IAAvBC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACnC,QAAOC,MAAM,CAACR,IAAI;IACd,KAAKA,IAAI,CAACS,YAAY;MAElB,eAAeC,WAAWA,CAAA,EAAE;QACxB,IAAIC,IAAI,GAAG,EAAE;QACb,MAAMC,KAAK,CAAC,mCAAmC,EAAE;UACjDC,MAAM,EAAE,KAAK;UACTC,OAAO,EAAE;YACT,eAAe,EAAE,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa;UAC/D;QACJ,CAAC,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;UAClB,OAAOA,QAAQ,CAACC,IAAI,EAAE;QAC1B,CAAC,CAAC,CAACF,IAAI,CAAEG,IAAI,IAAK;UACd;UACA,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACd,MAAM,EAAEe,CAAC,EAAE,EAAE;YACjC,IAAIC,MAAM,GAAG;cACTC,EAAE,EAAEH,IAAI,CAACC,CAAC,CAAC,CAACE,EAAE;cACdC,KAAK,EAAEJ,IAAI,CAACC,CAAC,CAAC,CAACG,KAAK;cACpBC,IAAI,EAAEL,IAAI,CAACC,CAAC,CAAC,CAACI,IAAI;cAClBrB,KAAK,EAAEgB,IAAI,CAACC,CAAC,CAAC,CAACjB,KAAK;cACpBsB,IAAI,EAAEN,IAAI,CAACC,CAAC,CAAC,CAACM,UAAU,CAACC,IAAI;cAC7BC,KAAK,EAAET,IAAI,CAACC,CAAC,CAAC,CAACM,UAAU,CAACE,KAAK,CAACC,KAAK;cACrCC,UAAU,EAAEX,IAAI,CAACC,CAAC,CAAC,CAACU,UAAU;cAC9BC,YAAY,EAAEZ,IAAI,CAACC,CAAC,CAAC,CAACY;YAC1B,CAAC;YACD;YACAtB,IAAI,CAACuB,IAAI,CAACZ,MAAM,CAAC;UACrB;QACJ,CAAC,CAAC;QACFlB,KAAK,GAAGO,IAAI;QACZwB,OAAO,CAACC,GAAG,CAACzB,IAAI,CAAC;MACrB;MAEA,OAAOP,KAAK;IAChB;MACI,OAAOA,KAAK;EAAC;AAEzB,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}