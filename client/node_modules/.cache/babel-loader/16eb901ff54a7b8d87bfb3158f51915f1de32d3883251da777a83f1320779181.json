{"ast":null,"code":"import * as type from \"../actions/ActionTypes\";\n\n// turn issue from json to obj //\nfunction toTask(data) {\n  let res = [];\n  for (let i = 0; i < data.length; i++) {\n    let tmpObj = {\n      id: data[i].id,\n      title: data[i].title,\n      body: data[i].body,\n      state: data[i].state,\n      repo: data[i].repository.name,\n      owner: data[i].repository.owner.login,\n      created_at: data[i].created_at,\n      issue_number: data[i].number\n    };\n    res.push(tmpObj);\n  }\n  console.log(res);\n  return res;\n}\nconst taskReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case type.GET_ALL_TASK:\n      return toTask(action.all_tasks);\n    case type.EDIT_TASK:\n      let idx = state.findIndex(x => x.id === action.t.id);\n      console.log(action.t);\n      let newTask = toTask(action.t);\n      console.log(newTask);\n      return state.map((item, index) => {\n        if (index !== action.t.id) {\n          return item;\n        }\n        return {\n          ...item,\n          ...action.t\n        };\n      });\n\n    // return state;\n    default:\n      return state;\n  }\n};\nexport default taskReducer;","map":{"version":3,"names":["type","toTask","data","res","i","length","tmpObj","id","title","body","state","repo","repository","name","owner","login","created_at","issue_number","number","push","console","log","taskReducer","arguments","undefined","action","GET_ALL_TASK","all_tasks","EDIT_TASK","idx","findIndex","x","t","newTask","map","item","index"],"sources":["C:/Users/user/Desktop/Life/sideProject/Dcard2023-frontend-hw/client/src/reducer/tasks.js"],"sourcesContent":["import * as type from \"../actions/ActionTypes\";\r\n\r\n// turn issue from json to obj //\r\nfunction toTask(data){\r\n  let res = [];\r\n  for(let i = 0; i < data.length; i++) {\r\n    let tmpObj = {\r\n        id: data[i].id,\r\n        title: data[i].title,\r\n        body: data[i].body,\r\n        state: data[i].state,\r\n        repo: data[i].repository.name,\r\n        owner: data[i].repository.owner.login,\r\n        created_at: data[i].created_at,\r\n        issue_number: data[i].number\r\n    };\r\n    res.push(tmpObj);\r\n  }\r\n  console.log(res);\r\n  return res;\r\n}\r\n\r\nconst taskReducer = (state = [], action) => {\r\n    switch(action.type) {\r\n        case type.GET_ALL_TASK:                  \r\n          return toTask(action.all_tasks);\r\n        case type.EDIT_TASK:\r\n          let idx = state.findIndex((x) => x.id === action.t.id);\r\n          console.log(action.t);\r\n          let newTask = toTask(action.t);\r\n          console.log(newTask);\r\n          return state.map((item, index) => {\r\n            if(index !== action.t.id) {\r\n              return item;\r\n            }\r\n            return {\r\n              ...item,\r\n              ...action.t\r\n            }\r\n          })\r\n          \r\n\r\n          // return state;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default taskReducer;"],"mappings":"AAAA,OAAO,KAAKA,IAAI,MAAM,wBAAwB;;AAE9C;AACA,SAASC,MAAMA,CAACC,IAAI,EAAC;EACnB,IAAIC,GAAG,GAAG,EAAE;EACZ,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACnC,IAAIE,MAAM,GAAG;MACTC,EAAE,EAAEL,IAAI,CAACE,CAAC,CAAC,CAACG,EAAE;MACdC,KAAK,EAAEN,IAAI,CAACE,CAAC,CAAC,CAACI,KAAK;MACpBC,IAAI,EAAEP,IAAI,CAACE,CAAC,CAAC,CAACK,IAAI;MAClBC,KAAK,EAAER,IAAI,CAACE,CAAC,CAAC,CAACM,KAAK;MACpBC,IAAI,EAAET,IAAI,CAACE,CAAC,CAAC,CAACQ,UAAU,CAACC,IAAI;MAC7BC,KAAK,EAAEZ,IAAI,CAACE,CAAC,CAAC,CAACQ,UAAU,CAACE,KAAK,CAACC,KAAK;MACrCC,UAAU,EAAEd,IAAI,CAACE,CAAC,CAAC,CAACY,UAAU;MAC9BC,YAAY,EAAEf,IAAI,CAACE,CAAC,CAAC,CAACc;IAC1B,CAAC;IACDf,GAAG,CAACgB,IAAI,CAACb,MAAM,CAAC;EAClB;EACAc,OAAO,CAACC,GAAG,CAAClB,GAAG,CAAC;EAChB,OAAOA,GAAG;AACZ;AAEA,MAAMmB,WAAW,GAAG,SAAAA,CAAA,EAAwB;EAAA,IAAvBZ,KAAK,GAAAa,SAAA,CAAAlB,MAAA,QAAAkB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAAA,IAAEE,MAAM,GAAAF,SAAA,CAAAlB,MAAA,OAAAkB,SAAA,MAAAC,SAAA;EACnC,QAAOC,MAAM,CAACzB,IAAI;IACd,KAAKA,IAAI,CAAC0B,YAAY;MACpB,OAAOzB,MAAM,CAACwB,MAAM,CAACE,SAAS,CAAC;IACjC,KAAK3B,IAAI,CAAC4B,SAAS;MACjB,IAAIC,GAAG,GAAGnB,KAAK,CAACoB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACxB,EAAE,KAAKkB,MAAM,CAACO,CAAC,CAACzB,EAAE,CAAC;MACtDa,OAAO,CAACC,GAAG,CAACI,MAAM,CAACO,CAAC,CAAC;MACrB,IAAIC,OAAO,GAAGhC,MAAM,CAACwB,MAAM,CAACO,CAAC,CAAC;MAC9BZ,OAAO,CAACC,GAAG,CAACY,OAAO,CAAC;MACpB,OAAOvB,KAAK,CAACwB,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QAChC,IAAGA,KAAK,KAAKX,MAAM,CAACO,CAAC,CAACzB,EAAE,EAAE;UACxB,OAAO4B,IAAI;QACb;QACA,OAAO;UACL,GAAGA,IAAI;UACP,GAAGV,MAAM,CAACO;QACZ,CAAC;MACH,CAAC,CAAC;;IAGF;IACF;MACI,OAAOtB,KAAK;EAAC;AAEzB,CAAC;AAED,eAAeY,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}